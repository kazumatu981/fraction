# 担当課題

## [SPF]: `Fraction` の実装を完成させる

### [SPF001] `add`/`subtract`/`multiply`/`divide`のテストを完成させよう

`add`/`subtract`/`multiply`/`divide`のテストが不十分です。
テストを追加して完成させましょう。

### [SPF002] `add`/`subtract`/`multiply`/`divide`の実装を完成させよう

`add`/`subtract`/`multiply`/`divide`が実装できていません。
実装しましょう。

### [SPF003][チャレンジ課題]: 関数のオーバライド

分数に整数を足したり、引いたり、四則演算できるようにしましょう

```ts
// 変更前
add(other: Fraction) {
    // ...
}
// 変更後
add(other: Fraction | number) {
    // ...
}
```

### [SPF004][チャレンジ課題]: 小数→分数をできるようにしよう

小数をもとにクラスのインスタンスを作れないか？

```ts
const f = new Fraction(1.5);
console.log(f.toString()); // 3/2 
```

簡単なようで意外と難しいですね。
ヒントは....。

* `1.5` を `15/10` とできればいいわけです。
* `number`が整数かどうかを判定するのは、`src/assert.ts` の `__mustBeInteger()`が参考になります。
* `constructor(numerator: number, denominator?: number)`として省略可能にする感じですね。

## [SPN]: `Numerics` の実装を完成させる

### [SPN001] `extractPrimeFactors()` のテストケースを追加実装しよう

素因数分解のテストが足りてません追加しましょう。

### [SPN002] `resolveGcd()`/`resolveLcm()` のテストを完成させよう

最大公約数、最大公約数のテストを完成させましょう

### [SPN004] `resolveGcd()`/`resolveLcm()` を実装しよう

最大公約数と最小公倍数を計算する実装をしましょう。
素因数分解ができているとして。。。。。どうするんでしたっけ？？？
最小公倍数の計算には最大公約数も使えるかも。。。。。

### [SPN005][チャレンジ課題]: コードのリファクタリング

じつは、`extractPrimeFactors()`は以下のように書くことができます。
この実装について、

1. 実装を置き換えて、テストが通過することを確認してください。
2. [MDNの公式ドキュメント](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Array/map)を参照しながら意味を考えてください。
3. `map()` や `reduce()` は **高階関数** と呼ばれます。現在のコーディングでは **公開関数**の使用が推奨されます。なぜかを考えてください。

```ts
function _findOrderOfPrime(source: number, prime: number): number {
    let exponent = 0;
    let remainder = sourceNumber;
    while(remainder % prime===0) {
        exponent++;
        remainder = remainder/prime;
    }
    return exponent
}
export function extractPrimeFactors(sourceNumber: number): PrimeFactor[] {
    __mustBeInteger(sourceNumber);
    __mustNotBeNegative(sourceNumber);
    __mustNotBeZero(sourceNumber);

    const result = getPrimeNumberUntil(sourceNumber)
        .map((prime)=>{
            return {
                base: prime,
                exponent: _findOrderOfPrime(sourceNumber, prime)
            }
        })
        .filter(element => element.exponent > 0);
    return result;
}
```
